<!DOCTYPE html>
<html lang="en">
<link>
    <meta charset="UTF-8">
    <title>Information Monitor</title>
    <!--Load jQuery-->
    <script
            src="https://code.jquery.com/jquery-3.2.1.js"
            integrity="sha256-DZAnKJ/6XZ9si04Hgrsxu/8s717jcIzLy3oi35EouyE="
            crossorigin="anonymous">
    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.3/umd/popper.min.js"
            integrity="sha384-vFJXuSJphROIrBnz7yo7oB41mKfc8JzQZiCq4NCceLEaO4IHwicKwpJf9c9IpFgh"
            crossorigin="anonymous">
    </script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/js/bootstrap.min.js"
            integrity="sha384-alpBpkh1PFOepccYVYDB4do5UnbKysX5WZXm3XxPqe5iKTfUKjNkCk9SaVuEZflJ"
            crossorigin="anonymous">
    </script>

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/css/bootstrap.min.css"
          integrity="sha384-PsH8R72JQ3SOdhVi3uxftmaW6Vc51MKb0q5P2rRUpPvrszuE4W1povHYgTpBfshb"
          crossorigin="anonymous">

    <style>
        td{
            text-align: center;
        }
    </style>
</head>
<body>
<!--Run the main functionality-->
<script type="text/javascript">

    $(document).ready(
        // Run only when the document is fully loaded
        $.getJSON('../../check_log.json', function (data) {

            var number_of_servers;
            var ram_util = data['ram_util'];
            var cpu_util = data['cpu_util'];
            var hdd_util = data['hdd_util'];
            var server_name = data['Server_Name'];
            var mysql_stat = data['mysql_con'];
            var telnet_stat = data['telnet_con'];

            $('#server_name').text(server_name);
            $('#ram_util').text(ram_util);
            $('#cpu_util').text(cpu_util);
            $('#hdd_util').text(hdd_util);
            $('#mysql_util').text(mysql_stat);
            $('#telnet_util').text(telnet_stat);

            colorProfile(["#ram_util", "#cpu_util", "#hdd_util"], [ram_util, cpu_util, hdd_util]);
            function colorProfile(ids, vals) {
                var len = ids.length;

                for(var i=0;i < len; i++){
                    if(vals[i] === "GREEN"){
                        $(ids[i]).css('background-color','green')
                    }else if (vals[i] === "AMBER"){
                        $(ids[i]).css('background-color','orange')
                    } else if (vals[i] === "RED"){
                        $(ids[i]).css('background-color','red')
                    }
                }
            }
        })
    );

</script>

    <table id="ram_utilization" border="1|0" class="table table-striped table-dark">

        <tr>
            <th scope="col" colspan="7">Server Name</th>
            <th scope="col" colspan="4">Ram Utilization</th>
            <th scope="col" colspan="4">CPU Utilization</th>
            <th scope="col" colspan="4">HDD Utilization</th>
            <th scope="col" colspan="4">MYSQL Connection Status</th>
            <th scope="col" colspan="4">Telnet Connection Status</th>
        </tr>
        <tr>
            <td colspan="7" id="server_name">None</td>
            <td colspan="4" id="ram_util" >None</td>
            <td colspan="4" id="cpu_util">None</td>
            <td colspan="4" id="hdd_util">None</td>
            <td colspan="4" id="mysql_util">None</td>
            <td colspan="4" id="telnet_util">None</td>

        </tr>

    </table>
</body>
</html>